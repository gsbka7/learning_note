import{_ as s,p as n,q as a,a1 as e}from"./framework-96b046e1.js";const t="/learning_note/images/mysql/03/composite_key.png",p={},o=e(`<h1 id="_03-【-sql-】" tabindex="-1"><a class="header-anchor" href="#_03-【-sql-】" aria-hidden="true">#</a> 03 【 SQL 】</h1><h2 id="_1-概述" tabindex="-1"><a class="header-anchor" href="#_1-概述" aria-hidden="true">#</a> 1. 概述</h2><blockquote><p>SQL(Structured Query Language)結構化查詢語言，用於存取、查詢、更新資料以及管理關係型資料庫系統</p></blockquote><h3 id="_1-sql發展" tabindex="-1"><a class="header-anchor" href="#_1-sql發展" aria-hidden="true">#</a> 1. SQL發展</h3><p>・ 1981年由IBM公司推出，基於其簡潔的語法在資料庫中得到了廣泛的運用，成為主流資料庫的通用規範</p><p>・ SQL由ANSI確定規範</p><p>・ 在不同的資料庫產品中遵守SQL的通用規範，┬但也對SQL有一些不同的改進，形成了一些資料庫的專有指令</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>MySQL：limit
SQLServer：top
Oracle：rownum
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-分類" tabindex="-1"><a class="header-anchor" href="#_2-分類" aria-hidden="true">#</a> 2. 分類</h3><p>根據SQL指令完成的資料庫操作的不同，可以將SQL指令分為四類</p><blockquote><p>DDL：Data Definition Language，資料定義語言</p></blockquote><p>用於對資料庫、資料表、檢視表、索引的建立、刪除、修改</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>　。 CREATE 建立資料庫的物件

　。 ALTER 變更資料庫的物件的結構

　。 DROP 刪除資料庫的物件

　。 TRUNCATE 清除資料庫表格內的資料
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>DML：Data Manipulation Language，資料操作語言 　。 用於對資料表單中資料新增、刪除、修改</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>　。 UPDATE 更改資料表中的資料

　。 DELETE 刪除資料表中的資料
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>DQL：Data Query Language，資料查詢語言</p></blockquote><p>。 用於查詢資料表單中的資料</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>　。 SELECT 選取資料庫中的資料
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>DCL：Data Control Language，資料控制語言</p></blockquote><p>用於控制資料表單、檢視表之存取權限，提供資料庫的安全性</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>　。 GRANT 賦予使用者使用權限

　。 REVOKE 取消使用者的使用權限

　。 COMMIT 完成交易作業

　。 COMMIT 完成交易作業
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-基本語法" tabindex="-1"><a class="header-anchor" href="#_3-基本語法" aria-hidden="true">#</a> 3. 基本語法</h3><blockquote><p>在MySQL管理工具中進行編寫</p></blockquote><p>・ 不區分大小寫</p><p>・ 每行SQL語句後需加分號 ; 以表示結束</p><p>・ SQL關鍵字以<code>空格</code>進行分隔</p><p>・ SQL語句之間不限制換行</p><h2 id="_2-ddl-資料定義語言" tabindex="-1"><a class="header-anchor" href="#_2-ddl-資料定義語言" aria-hidden="true">#</a> 2. DDL 資料定義語言</h2><h3 id="_2-1-ddl-資料庫操作" tabindex="-1"><a class="header-anchor" href="#_2-1-ddl-資料庫操作" aria-hidden="true">#</a> 2.1 DDL 資料庫操作</h3><blockquote><p>使用DDL可以對資料庫進行建立、查詢、刪除操作</p></blockquote><h4 id="_1-查詢資料庫" tabindex="-1"><a class="header-anchor" href="#_1-查詢資料庫" aria-hidden="true">#</a> 1.查詢資料庫</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span> 顯示MySQL中的資料庫列表<span class="token punctuation">;</span>

<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span><span class="token punctuation">;</span> 查詢建資料庫時使用的語法
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-建立資料庫" tabindex="-1"><a class="header-anchor" href="#_2-建立資料庫" aria-hidden="true">#</a> 2. 建立資料庫</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">;</span> 判斷相同名稱資料庫是否已經存在

<span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span> <span class="token keyword">character</span> <span class="token keyword">set</span> uft8<span class="token punctuation">;</span> 設定字元編碼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-修改資料庫" tabindex="-1"><a class="header-anchor" href="#_3-修改資料庫" aria-hidden="true">#</a> 3. 修改資料庫</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span> 修改資料庫字元編碼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-刪除資料庫" tabindex="-1"><a class="header-anchor" href="#_4-刪除資料庫" aria-hidden="true">#</a> 4.刪除資料庫</h4><p>刪除資料庫會刪除目前資料庫中的所有資料表單和表單內的資料</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span> <span class="token keyword">if</span> <span class="token keyword">exists</span><span class="token punctuation">;</span> 如果資料庫存在就刪除資料庫
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-切換-使用" tabindex="-1"><a class="header-anchor" href="#_5-切換-使用" aria-hidden="true">#</a> 5.切換 / 使用</h4><p>建立欄位前要切換 / 使用目標資料庫</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> <span class="token operator">&lt;</span>dbName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-2-ddl-資料表單操作" tabindex="-1"><a class="header-anchor" href="#_2-2-ddl-資料表單操作" aria-hidden="true">#</a> 2.2 DDL 資料表單操作</h3><blockquote><p>資料表單實際就是一個表格，一個表格由多個列組成，表格中的每一欄的第一格為欄位字段</p></blockquote><h4 id="_1-建立表單及字段欄位" tabindex="-1"><a class="header-anchor" href="#_1-建立表單及字段欄位" aria-hidden="true">#</a> 1. 建立表單及字段欄位</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
    <span class="token comment">// 欄位名稱 資料型態 欄位限制</span>
    stu_num <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_age <span class="token keyword">int</span><span class="token punctuation">,</span>
    stu_tel <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
    stu_line <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">unique</span>  最後一列沒有逗號
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-查詢表單" tabindex="-1"><a class="header-anchor" href="#_2-查詢表單" aria-hidden="true">#</a> 2. 查詢表單</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-查詢表單結構" tabindex="-1"><a class="header-anchor" href="#_3-查詢表單結構" aria-hidden="true">#</a> 3. 查詢表單結構</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">desc</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-刪除資料表單" tabindex="-1"><a class="header-anchor" href="#_4-刪除資料表單" aria-hidden="true">#</a> 4. 刪除資料表單</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> exist <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span> 如果資料表單存在就才刪除
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-修改資料表單" tabindex="-1"><a class="header-anchor" href="#_5-修改資料表單" aria-hidden="true">#</a> 5. 修改資料表單</h4><p>・ 修改表單名稱</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">rename</span> <span class="token keyword">to</span> <span class="token operator">&lt;</span><span class="token keyword">rename</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>・ 修改表單字元編碼</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>・ 增加字段欄位</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">add</span> <span class="token operator">&lt;</span>columnName<span class="token operator">&gt;</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>・ 修改字段欄位名稱、類型</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> change <span class="token operator">&lt;</span>oldColumnName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>newColumnName<span class="token operator">&gt;</span> <span class="token keyword">text</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>・ 修改字段欄位類型</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">modify</span> <span class="token operator">&lt;</span>columnName<span class="token operator">&gt;</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>・ 刪除字段欄位</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">drop</span> <span class="token operator">&lt;</span>columnName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-資料型態" tabindex="-1"><a class="header-anchor" href="#_3-資料型態" aria-hidden="true">#</a> 3. 資料型態</h2><blockquote><p>資料表單中欄位支持存放的資料的型態</p></blockquote><h3 id="_1-數字型態" tabindex="-1"><a class="header-anchor" href="#_1-數字型態" aria-hidden="true">#</a> 1. 數字型態</h3><blockquote><p>在MySQL中有多種資料型態可以存取數值，不同的類型存放的數值範圍或形式是不同的</p></blockquote><table><thead><tr><th style="text-align:center;">資料型態</th><th style="text-align:center;">大小</th><th style="text-align:center;">長度</th><th style="text-align:center;">說明</th></tr></thead><tbody><tr><td style="text-align:center;">tinyint</td><td style="text-align:center;">1byte</td><td style="text-align:center;">有符號 -128 ~ 127，無符號 0 ~ 255</td><td style="text-align:center;">特小型整數(ex：年齡)</td></tr><tr><td style="text-align:center;">smallint</td><td style="text-align:center;">2byte(16bit)</td><td style="text-align:center;">有符號 -32768 ~ 32767，無符號 0 ~ 65535</td><td style="text-align:center;">小型整數</td></tr><tr><td style="text-align:center;">mediumint</td><td style="text-align:center;">3byte</td><td style="text-align:center;">有符號 -2^31 ~ 2^31，無符號 0 ~ 2^31-1</td><td style="text-align:center;">中型整數</td></tr><tr><td style="text-align:center;">int/integer</td><td style="text-align:center;">4byte</td><td style="text-align:center;"></td><td style="text-align:center;">整數，默認使用，不夠的話使用bigint</td></tr><tr><td style="text-align:center;">bigint</td><td style="text-align:center;">8byte</td><td style="text-align:center;"></td><td style="text-align:center;">大型整數</td></tr><tr><td style="text-align:center;">float</td><td style="text-align:center;">4byte</td><td style="text-align:center;"></td><td style="text-align:center;">單精度浮點數</td></tr><tr><td style="text-align:center;">double</td><td style="text-align:center;">8byte</td><td style="text-align:center;"></td><td style="text-align:center;">雙精度浮點數</td></tr><tr><td style="text-align:center;">decimal</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;">decimal(10, 2)表示數值一共有10位, 小數位有2位</td></tr></tbody></table><h3 id="_2-字串型態" tabindex="-1"><a class="header-anchor" href="#_2-字串型態" aria-hidden="true">#</a> 2. 字串型態</h3><table><thead><tr><th style="text-align:center;">資料型態</th><th style="text-align:center;">長度</th><th style="text-align:center;">說明</th></tr></thead><tbody><tr><td style="text-align:center;">char</td><td style="text-align:center;">0 ~ 255</td><td style="text-align:center;">最多可儲存255個字符, 可用char(n)指定長度，如少於n, 則補\\u0000至n長度</td></tr><tr><td style="text-align:center;">varchar</td><td style="text-align:center;">0 ~ 65535</td><td style="text-align:center;">最多可儲存65535個字符</td></tr><tr><td style="text-align:center;">tinyblob</td><td style="text-align:center;">0 ~ 255</td><td style="text-align:center;">儲存二進制字串</td></tr><tr><td style="text-align:center;">blob</td><td style="text-align:center;">0 ~ 65535</td><td style="text-align:center;">儲存二進制字串</td></tr><tr><td style="text-align:center;">mediumblob</td><td style="text-align:center;">0 ~ 1677215</td><td style="text-align:center;">儲存二進制字串</td></tr><tr><td style="text-align:center;">longblob</td><td style="text-align:center;">0 ~ 4294967295</td><td style="text-align:center;">儲存二進制字串</td></tr><tr><td style="text-align:center;">tinytext</td><td style="text-align:center;">0 ~ 255</td><td style="text-align:center;">有符號 -128 ~ 127，無符號 0 ~ 255</td></tr><tr><td style="text-align:center;">text</td><td style="text-align:center;">0 ~ 65535</td><td style="text-align:center;">文字資料(字串)</td></tr><tr><td style="text-align:center;">mediumtext</td><td style="text-align:center;">0 ~ 1677215</td><td style="text-align:center;">文字資料(字串)</td></tr><tr><td style="text-align:center;">longtext</td><td style="text-align:center;">0 ~ 4294967295</td><td style="text-align:center;">文字資料(字串)</td></tr></tbody></table><h3 id="_3-日期類型" tabindex="-1"><a class="header-anchor" href="#_3-日期類型" aria-hidden="true">#</a> 3. 日期類型</h3><table><thead><tr><th style="text-align:center;">資料型態</th><th style="text-align:center;">格式</th><th style="text-align:center;">說明</th></tr></thead><tbody><tr><td style="text-align:center;">date</td><td style="text-align:center;">2022-09-18</td><td style="text-align:center;">日期，只儲存年月日</td></tr><tr><td style="text-align:center;">time</td><td style="text-align:center;">12:00:25</td><td style="text-align:center;">時間, 只儲存時分秒</td></tr><tr><td style="text-align:center;">year</td><td style="text-align:center;">2022</td><td style="text-align:center;">年份</td></tr><tr><td style="text-align:center;">datetime</td><td style="text-align:center;">2022-09-18 12:00:25</td><td style="text-align:center;">日期 + 時間</td></tr><tr><td style="text-align:center;">timestamp</td><td style="text-align:center;">20220918 120025</td><td style="text-align:center;">日期 + 時間(時間戳)</td></tr></tbody></table><h2 id="_4-欄位限制" tabindex="-1"><a class="header-anchor" href="#_4-欄位限制" aria-hidden="true">#</a> 4. 欄位限制</h2><h3 id="_1-介紹" tabindex="-1"><a class="header-anchor" href="#_1-介紹" aria-hidden="true">#</a> 1. 介紹</h3><blockquote><p>建立資料表單時，對表單中的資料進行限制</p></blockquote><p>為何要進行限制：</p><p>・ 保證資料的有效性</p><p>・ 保證資料的完整性</p><p>・ 保證資料的正確性</p><p>常見的限制：</p><p>・ <code>not null</code>：非空值限制：不能為空值</p><p>・ <code>unique</code>：唯一限制：不與其他資料重複</p><p>・ <code>primary key</code>：主鍵限制，非空值 + 唯一性</p><p>・ <code>foreign key</code>：外鍵限制：建立不同表單之間的關係</p><h3 id="_2-非空值限制-not-null" tabindex="-1"><a class="header-anchor" href="#_2-非空值限制-not-null" aria-hidden="true">#</a> 2. 非空值限制 not null</h3><blockquote><p>限制表單資料中的此欄位必須有值</p></blockquote><p>舉例：book_isbn、book_author沒有值，會默認為null</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> books<span class="token punctuation">(</span>
    book_isbn <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    book_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">// 設置不能為空值</span>
    book_author <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-唯一限制-unique" tabindex="-1"><a class="header-anchor" href="#_3-唯一限制-unique" aria-hidden="true">#</a> 3. 唯一限制 unique</h3><blockquote><p>此欄位的值不能與其他列的欄位重複</p></blockquote><p>舉例：book_isbn char的值不能重複</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> books<span class="token punctuation">(</span>
    book_isbn <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
    book_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    book_author <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-主鍵限制-primary-key" tabindex="-1"><a class="header-anchor" href="#_4-主鍵限制-primary-key" aria-hidden="true">#</a> 4.主鍵限制 primary key</h3><p>不允許為空值，並且為唯一的值</p><p>一張表單中最多只能有一個 <code>primary key</code></p><p>舉例：建立欄位時設定限制</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> books<span class="token punctuation">(</span>
    book_isbn <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    book_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    book_author <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>舉例：欄位建立好後再設定限制：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> books<span class="token punctuation">(</span>
    book_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    book_author <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>book_isbn<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>刪除 <code>primary key</code>：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>alter table books drop primary key;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>建立 <code>primary key</code>：</p><p>建立時沒有設定 primary key</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>create table books(
    book_isbn char(4),
    book_name varchar(10) not null,
    book_author varchar(6)
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>alter table books modify book_isbn char(4) primary key;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-外鍵限制-foreign-key" tabindex="-1"><a class="header-anchor" href="#_5-外鍵限制-foreign-key" aria-hidden="true">#</a> 5 外鍵限制 foreign key</h3><h3 id="_6-自動累加-auto-increment" tabindex="-1"><a class="header-anchor" href="#_6-自動累加-auto-increment" aria-hidden="true">#</a> 6. 自動累加 auto_increment</h3><blockquote><p>在建立資料表單時，如果沒有合適的列可以做為主鍵時，可以額外增加一個與資料無關的列(ID)作為主健，在MySQL中可以將此列設定為<code>int</code>，同時設定自動累加。當新增一條資料時，不需要提供ID的值，會自動產生。</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">types</span><span class="token punctuation">(</span>
    type_id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    type_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    type_remark <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-聯合主鍵" tabindex="-1"><a class="header-anchor" href="#_7-聯合主鍵" aria-hidden="true">#</a> 7. 聯合主鍵</h3><blockquote><p>將資料表單中的多個列組合在一起設置為表單的主鍵</p></blockquote><p><img src="`+t+`" alt="表單"></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> grades<span class="token punctuation">(</span>
    stu_num <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    course_id <span class="token keyword">int</span><span class="token punctuation">,</span>
    score <span class="token keyword">int</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span> course_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>實際的資料庫設計開發中，聯合主健使用頻率並不高；當一張資料表單中沒有明確的欄位可以作為主鍵時，可以額外新增一個ID字段作為主鍵。</p></div><h2 id="_5-dml-資料操作語言" tabindex="-1"><a class="header-anchor" href="#_5-dml-資料操作語言" aria-hidden="true">#</a> 5. DML 資料操作語言</h2><blockquote><p>用於完成對資料表單中資料的插入、刪除、修改操作</p></blockquote><p>範例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
    stu_num <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    stu_age <span class="token keyword">int</span><span class="token punctuation">,</span>
    stu_tel <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
    stu_line <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">unique</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-寫入資料" tabindex="-1"><a class="header-anchor" href="#_1-寫入資料" aria-hidden="true">#</a> 1. 寫入資料</h3><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">(</span>columnName<span class="token punctuation">,</span> columnName<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">,</span> vlaue<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>向資料庫中指定的欄位添加資料，不允許為空值的欄位必須要有資料</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> stus<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_gender<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_tel<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;20210101&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;21&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;09998765&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>欄位的順序可以改變，values中的值位置必須跟欄位對應</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> stus<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_gender<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_tel<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;20210101&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;21&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;09998765&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>當要向所有欄位寫入資料時，欄位列表可以省略，但values中的值需要與表單的順序保持一致</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> stus vaules<span class="token punctuation">(</span><span class="token string">&#39;20210101&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;21&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;09998765&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>在實際開發中，建議完整寫出</p></div><h3 id="_2-刪除資料" tabindex="-1"><a class="header-anchor" href="#_2-刪除資料" aria-hidden="true">#</a> 2. 刪除資料</h3><blockquote><p>從資料表單中刪除符合特定條件的資料</p></blockquote><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> conditios<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> stu_num<span class="token operator">=</span><span class="token string">&#39;20210101&#39;</span> <span class="token comment">// 刪除符合stu_num=&#39;20210101&#39;;</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> stu_age<span class="token operator">&gt;</span><span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// 刪除符合age&gt;20;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>
<span class="token keyword">delete</span> <span class="token keyword">from</span> stus<span class="token punctuation">;</span> <span class="token comment">// 沒有加上where，則刪除所有資料</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-修改資料" tabindex="-1"><a class="header-anchor" href="#_3-修改資料" aria-hidden="true">#</a> 3. 修改資料</h3><blockquote><p>對資料表單中已經寫入的資料進行修改</p></blockquote><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">update</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">set</span> columnName<span class="token operator">=</span><span class="token keyword">value</span> <span class="token keyword">where</span> conditions
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 只修改一列</span>
<span class="token keyword">update</span> stus <span class="token keyword">set</span> stu_name<span class="token operator">=</span><span class="token string">&#39;name&#39;</span> <span class="token keyword">where</span> stu_num<span class="token operator">=</span><span class="token string">&#39;20210101&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 修改多列</span>
<span class="token keyword">update</span> stus <span class="token keyword">set</span> stu_gender<span class="token operator">=</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">,</span>stu_tel<span class="token operator">=</span><span class="token string">&#39;0900999000&#39;</span> <span class="token keyword">where</span> stu_num<span class="token operator">=</span><span class="token string">&#39;20210101&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 沒有where，則修改所有資料</span>
<span class="token keyword">update</span> stus <span class="token keyword">set</span> stu_name<span class="token operator">=</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-dql-資料查詢語言" tabindex="-1"><a class="header-anchor" href="#_6-dql-資料查詢語言" aria-hidden="true">#</a> 6. DQL 資料查詢語言</h2><blockquote><p>從表單中提取滿足特定條件的紀錄</p></blockquote><p>・ 單表查詢</p><p>・ 多表查詢</p><h3 id="_1-查詢基礎語法" tabindex="-1"><a class="header-anchor" href="#_1-查詢基礎語法" aria-hidden="true">#</a> 1. 查詢基礎語法</h3><p>語法：</p><blockquote><p>select 後面指定要顯示查詢到的資料的哪些列</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">&lt;</span>colnumName1<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>colnumName2<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>colnumName3<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>查詢所有欄位的列</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-where" tabindex="-1"><a class="header-anchor" href="#_2-where" aria-hidden="true">#</a> 2. where</h3><blockquote><p>在刪除、修改、查詢的語句後都可以使用where(條件)，用於篩選符合特定的資料進行刪除、修改、查詢和操作</p></blockquote><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> conditions<span class="token punctuation">;</span> <span class="token comment">// 刪除</span>
<span class="token keyword">update</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">set</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> conditions<span class="token punctuation">;</span> <span class="token comment">// 修改</span>
<span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> conditions<span class="token punctuation">;</span> <span class="token comment">// 查詢</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="條件" tabindex="-1"><a class="header-anchor" href="#條件" aria-hidden="true">#</a> 條件</h4><blockquote><p><code>=</code> 等於</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_num <span class="token operator">=</span> <span class="token string">&#39;20220101&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>!=</code> <code>&lt;&gt;</code> 不等於</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_num <span class="token operator">!=</span> <span class="token operator">!</span><span class="token string">&#39;20220101&#39;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_num <span class="token operator">&lt;&gt;</span> <span class="token operator">!</span><span class="token string">&#39;20220101&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>&gt;</code> 大於</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_age <span class="token operator">&gt;</span> <span class="token string">&#39;20&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>&lt;</code> 小於</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_age <span class="token operator">&lt;</span> <span class="token string">&#39;20&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>&gt;=</code> 大於等於</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_age <span class="token operator">&gt;=</span> <span class="token string">&#39;20&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>&lt;=</code> 小於等於</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> sut_age <span class="token operator">&lt;=</span> <span class="token string">&#39;20&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>between and 區間查詢 between v1 and v2;</p><h4 id="多條件查詢" tabindex="-1"><a class="header-anchor" href="#多條件查詢" aria-hidden="true">#</a> 多條件查詢</h4><blockquote><p>在where子句中，可以將多個條件通過邏輯運算(<code>and</code>、<code>or</code>、<code>not</code>)進行連接，通過多個條件來篩選要操作的資料</p></blockquote><blockquote><p>and 多個同時符合條件的資料</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> stu_gender<span class="token operator">=</span><span class="token string">&#39;men&#39;</span> <span class="token operator">and</span> stu_age<span class="token operator">=</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>or 至少符合其中一個條件的資料</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> stu_gender<span class="token operator">=</span><span class="token string">&#39;men&#39;</span> <span class="token operator">or</span> stu_age<span class="token operator">=</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>not 取反</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> stu_gender<span class="token operator">=</span><span class="token string">&#39;men&#39;</span> <span class="token operator">not</span> stu_age<span class="token operator">=</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>between and 區間查詢</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 18 到20 之間</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> stu_age <span class="token operator">between</span> <span class="token number">18</span> <span class="token operator">and</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token comment">// 不在 18 到 20 之間</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> stu_age <span class="token operator">not</span> <span class="token operator">between</span> <span class="token number">18</span> <span class="token operator">and</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-like" tabindex="-1"><a class="header-anchor" href="#_3-like" aria-hidden="true">#</a> 3. like</h3><blockquote><p>在whrer子句的條件中，使用like來實現模糊查詢</p></blockquote><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token operator">like</span> <span class="token string">&#39;reg&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>・ <code>%</code>表示任意多個字元，<code>%a%</code>表示包含字母a</p><p>・ <code>_</code> 表示任意一個字符，<code>_o%</code>表示第二個字母為o，<code>___o%</code>表示第四個字母為o</p><blockquote><p>查詢含有o的結果</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token operator">like</span> <span class="token string">&#39;%o%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>查詢第一個字為o</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token operator">like</span> <span class="token string">&#39;o%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>查詢最後一個字為o</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token operator">like</span> <span class="token string">&#39;%o&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>查詢第二個字為o</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token operator">like</span> <span class="token string">&#39;_o%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-查詢結果的處理" tabindex="-1"><a class="header-anchor" href="#_4-查詢結果的處理" aria-hidden="true">#</a> 4. 查詢結果的處理</h3><h4 id="_1-設置查詢的列" tabindex="-1"><a class="header-anchor" href="#_1-設置查詢的列" aria-hidden="true">#</a> 1. 設置查詢的列：</h4><blockquote><p>宣告顯示查詢結果的指定列</p></blockquote><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">&lt;</span>colnumName1<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>colnumName2<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> conditions <span class="token operator">&gt;</span> <span class="token number">20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-計算列" tabindex="-1"><a class="header-anchor" href="#_2-計算列" aria-hidden="true">#</a> 2. 計算列</h4><blockquote><p>查詢出來的資料經過計算後顯示</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 目前年份減去年齡算出出生年</span>
<span class="token keyword">select</span> stu_name<span class="token punctuation">,</span><span class="token number">2022</span><span class="token operator">-</span>stu_age <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-字段別名" tabindex="-1"><a class="header-anchor" href="#_3-字段別名" aria-hidden="true">#</a> 3. 字段別名</h4><blockquote><p>給查詢結果的列名取語義性更強的別名</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> stu_name<span class="token punctuation">,</span><span class="token number">2020</span><span class="token operator">-</span>stu_age <span class="token keyword">as</span> stu_birth_year <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
<span class="token keyword">select</span> stu_name <span class="token keyword">as</span> 姓名<span class="token punctuation">,</span> <span class="token number">2020</span><span class="token operator">-</span>stu_age <span class="token keyword">as</span> 出生年份 <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-消除重複的結果" tabindex="-1"><a class="header-anchor" href="#_4-消除重複的結果" aria-hidden="true">#</a> 4. 消除重複的結果</h4><blockquote><p>從查詢的結果中消除重複的資料</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-排序" tabindex="-1"><a class="header-anchor" href="#_5-排序" aria-hidden="true">#</a> 5. 排序</h3><blockquote><p>查詢到的結果按照指定的欄位的值排序</p></blockquote><p>・ asc 升序</p><p>・ desc 降序</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> conditions <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span> <span class="token keyword">asc</span><span class="token operator">|</span><span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>實例：</p></blockquote><p>・ 單字段排序</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 從 stus 找出年齡大於15，且按照性別降序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> stu_age<span class="token operator">&gt;</span><span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> stu_gender <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>・ 多字段排序</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 篩選出年齡大於15，先按照性別降序，再按照年齡升序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> stu_age<span class="token operator">&gt;</span><span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> stu_gender <span class="token keyword">desc</span><span class="token punctuation">,</span> stu_age <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token comment">//  篩選出年齡大於15，先按照性別升序，再按照年齡降序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> stu_age<span class="token operator">&gt;</span><span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> stu_gender <span class="token keyword">asc</span><span class="token punctuation">,</span> stu_age <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-聚合函式" tabindex="-1"><a class="header-anchor" href="#_6-聚合函式" aria-hidden="true">#</a> 6. 聚合函式</h3><blockquote><p>SQL中提供了可以對查詢的資料的欄位進行計算的函式</p></blockquote><h4 id="_1-count-統計函式" tabindex="-1"><a class="header-anchor" href="#_1-count-統計函式" aria-hidden="true">#</a> 1. count() 統計函式</h4><blockquote><p>統計符合條件的指定字段的值的個數</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;=</span><span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>舉例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 統計stus表單中stu_num的個數</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span> <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
<span class="token comment">// 統計stus表單中stu_gender為men的個數</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>stu_num<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>stus<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>stu_gender<span class="token operator">&gt;=</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-max-計算最大值" tabindex="-1"><a class="header-anchor" href="#_2-max-計算最大值" aria-hidden="true">#</a> 2. max() 計算最大值</h4><blockquote><p>查詢符合條件的資料中指定欄位的最大值</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 統計stus表單中stu_age的值的最大值</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
<span class="token comment">// 統計stus表單中stu_gender為men的stu_age的最大值</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>stu_age<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>stus<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>stu_gender<span class="token operator">&gt;=</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-min-計算最小值" tabindex="-1"><a class="header-anchor" href="#_3-min-計算最小值" aria-hidden="true">#</a> 3. min() 計算最小值</h4><blockquote><p>查詢符合條件的資料中指定欄位的最小值</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 統計stus表單中stu_age的值的最小值</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
<span class="token comment">// 統計stus表單中stu_gender為men的stu_age的最小值</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>stu_age<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>stus<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>stu_gender<span class="token operator">&gt;=</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-sum-計算和" tabindex="-1"><a class="header-anchor" href="#_4-sum-計算和" aria-hidden="true">#</a> 4. sum() 計算和</h4><blockquote><p>查詢符合條件的資料中指定的欄位的總和</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 計算所有stu_age的總和</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
<span class="token comment">// 計算stus表單中stu_gender為men的stu_age的總和</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>stu_age<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>stus<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>stu_gender<span class="token operator">&gt;=</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-avg-平均值" tabindex="-1"><a class="header-anchor" href="#_5-avg-平均值" aria-hidden="true">#</a> 5. avg() 平均值</h4><blockquote><p>查詢符合條件的資料中指定的欄位的平均值</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 計算所有stu_age的平均值</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>stu_age<span class="token punctuation">)</span> <span class="token keyword">from</span> stus<span class="token punctuation">;</span>
<span class="token comment">// 計算stus表單中stu_gender為men的stu_age的平均值</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>stu_age<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>stus<span class="token operator">&gt;</span> <span class="token keyword">where</span> <span class="token operator">&lt;</span>stu_gender<span class="token operator">&gt;=</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-日期函式、字串函式" tabindex="-1"><a class="header-anchor" href="#_7-日期函式、字串函式" aria-hidden="true">#</a> 7. 日期函式、字串函式</h3><h4 id="_1-日期函式" tabindex="-1"><a class="header-anchor" href="#_1-日期函式" aria-hidden="true">#</a> 1.日期函式</h4><p>・ 格式須為 <code>yyyy-MM-dd hh:mm:ss</code></p><p>・ 取得目前時間 <code>now()</code> 或 <code>sysdate()</code></p><blockquote><p>通過字串型態賦值</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> suts<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_gender<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_tel<span class="token punctuation">,</span>stu_line<span class="token punctuation">,</span>stu_enterence<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;20220101&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0900000000&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;lineid&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2021-11-12 10:30:50&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>通過 <code>now()</code> 取得目前時間</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> suts<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_gender<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_tel<span class="token punctuation">,</span>stu_line<span class="token punctuation">,</span>stu_enterence<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;20220101&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0900000000&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;lineid&#39;</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>通過 <code>sysdate()</code> 取得目前時間</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> suts<span class="token punctuation">(</span>stu_num<span class="token punctuation">,</span>stu_name<span class="token punctuation">,</span>stu_gender<span class="token punctuation">,</span>stu_age<span class="token punctuation">,</span>stu_tel<span class="token punctuation">,</span>stu_line<span class="token punctuation">,</span>stu_enterence<span class="token punctuation">)</span>
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;20220101&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;men&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;20&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0900000000&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;lineid&#39;</span><span class="token punctuation">,</span>sysdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>取得目前時間</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> sysdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-字串函式" tabindex="-1"><a class="header-anchor" href="#_2-字串函式" aria-hidden="true">#</a> 2.字串函式</h4><blockquote><p>通過SQL指令對字串進行處理</p></blockquote><blockquote><ol><li>連接字串</li></ol></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>concat<span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">&#39;column1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;column2&#39;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol start="2"><li>將字串轉為大寫</li></ol></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> upper<span class="token punctuation">(</span><span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><ol start="3"><li>將字串轉為小寫</li></ol></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> lower<span class="token punctuation">(</span><span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><ol start="4"><li>擷取字串</li></ol></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 從第 7 個開始擷取 4 個</span>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token operator">&lt;</span>colnumName<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-分組查詢" tabindex="-1"><a class="header-anchor" href="#_8-分組查詢" aria-hidden="true">#</a> 8. 分組查詢</h3><blockquote><p>將資料表單中的資料按照指定的類進行分組</p></blockquote><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>selsect 分組字段 <span class="token operator">/</span> 聚合函式
<span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span>
<span class="token punctuation">[</span><span class="token keyword">where</span> 條件<span class="token punctuation">]</span> <span class="token comment">// []為可選</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> 分組字段 <span class="token punctuation">[</span><span class="token keyword">having</span> 條件<span class="token punctuation">]</span> <span class="token comment">// 兩個一定要一起使用</span>
<span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token operator">&lt;</span>colnumName<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>執行順序：</p></blockquote><blockquote><ol><li>根據 where條件 從資料庫查詢紀錄</li></ol></blockquote><blockquote><ol start="2"><li>group by 對查詢紀錄進行分組</li></ol></blockquote><blockquote><ol start="3"><li>執行 having 對分組後的資料進行篩選</li></ol></blockquote><p>・ 分組字段前後相同, 按照分組字段分組</p><p>・ select 後面使用 * 顯示查詢的結果進行分組之後，顯示每組的第一條資料</p><p>・ select 後通常顯示後通常顯示分組字段和聚合函式(對分組後的資料進行統計，求和，平均值等)</p><p>範例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 先按照性別進行分組(分成男、女兩組), 再分別統計每組學生的個數</span>
<span class="token keyword">select</span> stu_gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span> <span class="token keyword">from</span> stus <span class="token keyword">group</span> <span class="token keyword">by</span> stu_gender<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 先按照年齡分組, 然後統計各組學生數量, 之後將結果排序</span>
<span class="token keyword">select</span> stu_age<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span> <span class="token keyword">from</span> stus <span class="token keyword">group</span> <span class="token keyword">by</span> stu_age <span class="token keyword">order</span> <span class="token keyword">by</span> stu_age<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 按照年齡分組, 然後分別統計每組的人數, 再篩選人數 &gt; 1的組顯示出來</span>
<span class="token keyword">select</span> stu_age<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span> <span class="token keyword">from</span> stus <span class="token keyword">group</span> <span class="token keyword">by</span> stu_age <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> stu_age<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 先查詢性別為&#39;men&#39;的學生, 按照年齡進行分組, 統計每組個別的人數, 再篩選人數 &gt; 1的組, 再按照年齡排序</span>
<span class="token keyword">select</span> stu_age<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span> <span class="token keyword">from</span> stus <span class="token keyword">where</span> stu_gender<span class="token operator">=</span><span class="token string">&#39;men&#39;</span> <span class="token keyword">group</span> <span class="token keyword">by</span> stu_age <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>stu_num<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> stu_age<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-分頁查詢" tabindex="-1"><a class="header-anchor" href="#_9-分頁查詢" aria-hidden="true">#</a> 9. 分頁查詢</h3><p>語法：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">limit</span> param1<span class="token punctuation">,</span>param2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>・ aram1 int，表示從第param1筆開始</p><p>・ param2 int，表示查詢的筆數(如果剩下的資料 &lt; param2，則返回剩下的所有資料)</p><blockquote><p>當資料表單中的資料較多時，如果一次性全部顯示出來，可讀性就會不好，因此可以將這些資料分頁進行展示</p></blockquote><h4 id="範例-對資料表中的學生資訊進行分頁顯示-總共有10條資料-每頁顯示3條" tabindex="-1"><a class="header-anchor" href="#範例-對資料表中的學生資訊進行分頁顯示-總共有10條資料-每頁顯示3條" aria-hidden="true">#</a> 範例：對資料表中的學生資訊進行分頁顯示，總共有10條資料，每頁顯示3條</h4><p>・ 總資料數 count：10</p><p>・ 每頁顯示 pageSize：3</p><p>・ 總頁數：pageCount = count % pageSize == 0 ? count/pageSize : count/pageSize + 1</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">// 查詢第一頁(從第0筆開始顯示3筆)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// (1-1)*3</span>

<span class="token comment">// 查詢第二頁(從第3筆開始顯示3筆)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// (2-1)*3</span>

<span class="token comment">// 查詢第三頁(從第6筆開始顯示3筆)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">limit</span> <span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// (3-1)*3</span>

<span class="token comment">// 查詢第四頁(從第9筆開始顯示3筆)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">limit</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// (4-1)*3</span>

如果在一個表單中，pageNum 表示查詢的頁碼，pageSize 表示每頁顯示的筆數

<span class="token comment">// 通用分頁語句：</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>tableName<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">limit</span> <span class="token punctuation">(</span>pageNum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>pageSize<span class="token punctuation">,</span> pageSize
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,285),l=[o];function c(r,i){return n(),a("div",null,l)}const u=s(p,[["render",c],["__file","03.html.vue"]]);export{u as default};
